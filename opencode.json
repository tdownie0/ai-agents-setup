{
  "$schema": "https://opencode.ai/config.json",
  "plugin": ["opencode-orchestrator"],
  "model": "google/gemini-2.5-flash",
  "small_model": "google/gemini-2.0-flash-lite",
  "mode": {
    "plan": {
      "model": "google/gemini-2.0-flash-lite",
      "description": "Architect: Lightweight and rarely rate-limited."

    },
    "build": {
      "model": "google/gemini-2.5-flash"
    },
    "worker": {
      "model": "google/gemini-2.0-flash-lite",
      "description": "Sub-agent: High throughput for file writing."
    }
  },
  "mcp": {
    "docker_gateway": {
      "type": "local",
      "command": [
        "docker", "exec", "-i", "model_md-mcp-gateway-1",
        "npx", "-y", "@modelcontextprotocol/server-postgres",
        "postgres://user:pass@db:5432/model_md"
      ],
      "enabled": true
    },
    "filesystem": {
      "type": "local",
      "command": ["npx", "-y", "@modelcontextprotocol/server-filesystem", "/app"],
      "enabled": true
    },
    "shell": {
      "type": "local",
      "command": ["npx", "-y", "@modelcontextprotocol/server-shell"],
      "enabled": true,
      "environment": {
        "SHELL_ALLOW_LIST": "npm,npx,git,docker"
      }
    }
  }
}
